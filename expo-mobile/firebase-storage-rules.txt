// Firebase Storage 보안 규칙 - 이지픽스 배송 앱용
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // 배송 사진 저장 경로: delivery-photos/{trackingNumber}/{fileName}
    match /delivery-photos/{trackingNumber}/{allPaths=**} {
      allow read, write: if true; // 개발용 - 모든 접근 허용
      // 프로덕션용으로 변경 시:
      // allow read, write: if request.auth != null;
    }
    
    // 배송 오디오 저장 경로: delivery-audio/{trackingNumber}/{fileName}  
    match /delivery-audio/{trackingNumber}/{allPaths=**} {
      allow read, write: if true; // 개발용 - 모든 접근 허용
      // 프로덕션용으로 변경 시:
      // allow read, write: if request.auth != null;
    }
    
    // 기타 파일은 접근 거부
    match /{allPaths=**} {
      allow read, write: if false;
    }
  }
}