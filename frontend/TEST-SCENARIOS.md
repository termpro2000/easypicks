# EasyPicks 배송 관리 시스템 테스트 시나리오

## 개요
EasyPicks 배송 관리 시스템의 역할별 주요 기능에 대한 포괄적인 테스트 시나리오입니다.

### 테스트 환경
- **Frontend**: http://localhost:5173
- **Backend**: Railway 배포 서버
- **Database**: PlanetScale MySQL
- **브라우저**: Chrome, Safari, Firefox 권장

### 사용자 역할별 권한
- **admin**: 전체 시스템 관리, 모든 기능 접근
- **manager**: 배송 관리, 기사 배정, 파트너 관리
- **user**: 파트너사, 배송 접수 및 상품 관리
- **driver**: 기사, 배송 현황 확인 및 업데이트

---

## 📋 테스트 계정 정보

### 기본 테스트 계정
```
관리자: admin / admin123
매니저: manager / manager123
파트너: user / user123
기사: driver / driver123
```

---

## 🔐 1. 인증 및 회원가입 테스트

### 1.1 회원가입 테스트
**테스트 목표**: 새로운 사용자가 시스템에 가입할 수 있는지 확인

**테스트 단계**:
1. 브라우저에서 시스템 접속
2. "회원가입" 버튼 클릭
3. 회원가입 폼 작성
   - 사용자명: `test_partner_001`
   - 비밀번호: `test123!@#`
   - 이름: `테스트 파트너`
   - 역할: `user` (파트너)
   - 전화번호: `010-1234-5678`
   - 이메일: `test@example.com`
4. "가입하기" 버튼 클릭
5. 가입 완료 메시지 확인

**예상 결과**:
- ✅ 회원가입 성공 메시지 표시
- ✅ 자동으로 로그인 페이지로 이동
- ✅ 생성된 계정으로 로그인 가능

### 1.2 로그인 테스트
**테스트 목표**: 각 역할별 사용자가 정상적으로 로그인할 수 있는지 확인

#### 1.2.1 관리자 로그인
```
계정: admin / admin123
예상 화면: 관리자 대시보드 (전체 통계, 관리 메뉴)
```

#### 1.2.2 매니저 로그인
```
계정: manager / manager123  
예상 화면: 매니저 대시보드 (배송 관리, 기사 배정 메뉴)
```

#### 1.2.3 파트너 로그인
```
계정: user / user123
예상 화면: 파트너 대시보드 (배송 접수, 상품 관리 메뉴)
```

#### 1.2.4 기사 로그인
```
계정: driver / driver123
예상 화면: 기사 대시보드 (배송 현황, 완료 처리 메뉴)
```

### 1.3 로그아웃 테스트
1. 우상단 로그아웃 버튼 클릭
2. 로그인 페이지로 리디렉션 확인
3. 세션 완전 종료 확인

---

## 👤 2. Admin (관리자) 테스트 시나리오

### 2.1 사용자 관리 테스트
**테스트 목표**: 관리자가 모든 사용자를 관리할 수 있는지 확인

**테스트 단계**:
1. 관리자로 로그인 (`admin` / `admin123`)
2. 대시보드에서 "사용자 관리" 클릭
3. **사용자 목록 확인**:
   - 모든 역할의 사용자 표시 확인
   - 검색 기능 테스트
   - 역할별 필터링 테스트

4. **새 파트너 등록**:
   - "새 사용자 추가" 버튼 클릭
   - 파트너 정보 입력:
     ```
     사용자명: partner_test_001
     비밀번호: partner123!@#
     이름: 테스트 파트너 회사
     역할: user
     전화번호: 010-9876-5432
     이메일: partner@test.com
     회사명: (주)테스트가구
     ```
   - 저장 후 목록에서 확인

5. **파트너 정보 수정**:
   - 등록된 파트너 선택
   - "편집" 버튼 클릭
   - 정보 수정 (이름, 전화번호 등)
   - 저장 후 변경사항 확인

### 2.2 기사 관리 테스트
**테스트 목표**: 관리자가 기사를 등록하고 관리할 수 있는지 확인

**테스트 단계**:
1. "기사 관리" 메뉴 클릭
2. **새 기사 등록**:
   ```
   사용자명: driver_test_001
   비밀번호: driver123!@#  
   이름: 김기사
   전화번호: 010-5555-1234
   차량종류: 1톤 트럭
   차량번호: 12가3456
   면허번호: 11-22-334455-66
   ```
3. **기사 목록 확인**:
   - 등록된 기사 정보 표시 확인
   - 차량 정보 표시 확인
   - 활성화 상태 토글 테스트

### 2.3 배송 전체 관리 테스트
**테스트 목표**: 관리자가 모든 배송을 조회하고 관리할 수 있는지 확인

**테스트 단계**:
1. "배송 관리" 메뉴 클릭
2. **전체 배송 목록 확인**:
   - 모든 파트너의 배송 건 표시 확인
   - 상태별 필터링 (접수완료, 배송중, 완료, 취소)
   - 날짜별 검색 기능

3. **배송 상세 정보 확인**:
   - 배송 건 클릭하여 상세 정보 확인
   - 52개 필드 모든 정보 표시 확인
   - 상태 변경 권한 확인

### 2.4 AdminShippingForm 테스트
**테스트 목표**: 관리자가 파트너 대신 배송을 접수할 수 있는지 확인

**테스트 단계**:
1. "새 배송 접수" 클릭
2. **파트너 선택**:
   - 드롭다운에서 특정 파트너 선택
   - 선택된 파트너 정보가 발송인 섹션에 자동 채움 확인

3. **자동 채움 테스트**:
   - "자동채움" 버튼 클릭
   - 발송인 정보는 유지되고 나머지 필드만 채워지는지 확인

4. **폼 제출 테스트**:
   - 필수 필드 모두 입력
   - 제출 후 성공 메시지 확인
   - 배송 목록에서 생성된 배송 확인

---

## 💼 3. Manager (매니저) 테스트 시나리오

### 3.1 기사 배정 테스트
**테스트 목표**: 매니저가 배송에 기사를 배정할 수 있는지 확인

**테스트 단계**:
1. 매니저로 로그인 (`manager` / `manager123`)
2. "기사 배정" 메뉴 클릭
3. **자동 배정 테스트**:
   - 배정되지 않은 배송 목록 확인
   - "자동 배정" 버튼 클릭
   - 가장 적은 업무량을 가진 기사에게 배정되는지 확인

4. **수동 배정 테스트**:
   - 특정 배송 선택
   - 기사 드롭다운에서 원하는 기사 선택
   - "배정" 버튼 클릭
   - 배정 완료 메시지 확인

### 3.2 배송 현황 관리 테스트
**테스트 목표**: 매니저가 배송 현황을 모니터링하고 관리할 수 있는지 확인

**테스트 단계**:
1. "배송 현황" 메뉴 클릭
2. **실시간 현황 확인**:
   - 진행 중인 배송 목록 확인
   - 각 배송의 현재 상태 확인
   - 기사별 업무 현황 확인

3. **배송 상태 변경**:
   - 특정 배송 선택
   - 상태 변경 (접수완료 → 상차 → 배송중 → 완료)
   - 변경 사유 입력 테스트

---

## 🏢 4. User (파트너) 테스트 시나리오

### 4.1 새로운 배송 접수 테스트
**테스트 목표**: 파트너가 새로운 배송을 접수할 수 있는지 확인

**테스트 단계**:
1. 파트너로 로그인 (`user` / `user123`)
2. "새 배송접수" 클릭
3. **자동 채움 확인**:
   - 발송인 정보가 파트너 프로필에서 자동으로 채워지는지 확인
   - 파트너 추가 정보에서 회사명, 주소 등이 채워지는지 확인

4. **배송 정보 입력**:
   ```
   수취인 정보:
   - 이름: 홍길동
   - 전화번호: 010-1234-5678
   - 주소: 서울시 강남구 테헤란로 123
   - 상세주소: 5층 501호
   
   상품 정보:
   - 상품명: 3인용 소파
   - 상품 크기: 2000x800x850mm
   - 무게: 50kg
   - 파손주의: 체크
   
   배송 옵션:
   - 건물 형태: 아파트
   - 엘리베이터: 있음
   - 층수: 5층
   - 설치 서비스: 필요
   ```

5. **제품 선택 모달 테스트**:
   - "제품 추가" 버튼 클릭
   - 등록된 제품 목록에서 선택
   - 선택된 제품 정보가 폼에 반영되는지 확인

6. **제출 및 확인**:
   - 폼 제출
   - 성공 메시지 확인
   - 생성된 운송장 번호 확인

### 4.2 상품 관리 테스트
**테스트 목표**: 파트너가 자신의 상품을 관리할 수 있는지 확인

**테스트 단계**:
1. "상품 관리" 메뉴 클릭
2. **새 상품 등록**:
   ```
   상품명: 프리미엄 침대
   주상품코드: BED-001
   부상품코드: BED-001-K
   무게: 80kg  
   크기: 2000x1800x300mm
   원가: 500000원
   판매가: 800000원
   메모: 킹사이즈 침대, 조립 필요
   ```

3. **상품 목록 확인**:
   - 등록된 상품이 목록에 표시되는지 확인
   - 검색 기능 테스트
   - 상품별 세부 정보 확인

4. **상품 수정**:
   - 등록된 상품 선택
   - "편집" 버튼 클릭
   - 정보 수정 (가격, 메모 등)
   - 저장 후 변경사항 확인

5. **상품 삭제**:
   - 테스트용 상품 선택
   - "삭제" 버튼 클릭
   - 확인 대화상자에서 삭제 확인
   - 목록에서 제거되었는지 확인

### 4.3 배송 현황 조회 테스트
**테스트 목표**: 파트너가 자신의 배송 현황을 조회할 수 있는지 확인

**테스트 단계**:
1. "배송 현황" 메뉴 클릭
2. **자신의 배송만 표시 확인**:
   - 로그인한 파트너의 배송만 표시되는지 확인
   - 다른 파트너의 배송은 보이지 않는지 확인

3. **배송 상세 정보 확인**:
   - 배송 건 클릭
   - 제품 테이블이 delivery_details에서 로드되는지 확인
   - 52개 필드 정보 모두 표시되는지 확인

---

## 🚛 5. Driver (기사) 테스트 시나리오

### 5.1 배송 목록 조회 테스트
**테스트 목표**: 기사가 자신에게 배정된 배송을 확인할 수 있는지 검증

**테스트 단계**:
1. 기사로 로그인 (`driver` / `driver123`)
2. 대시보드에서 배송 목록 확인
3. **필터링 확인**:
   - 자신에게 배정된 배송만 표시되는지 확인
   - 상태별 분류 (대기, 진행중, 완료) 확인

### 5.2 배송 상태 업데이트 테스트
**테스트 목표**: 기사가 배송 진행 상황을 실시간으로 업데이트할 수 있는지 확인

**테스트 단계**:
1. 배정된 배송 선택
2. **상차 처리**:
   - "상차 시작" 버튼 클릭
   - 상차 시간 자동 기록 확인
   - 상태가 "상차"로 변경되었는지 확인

3. **배송 중 처리**:
   - "배송 시작" 버튼 클릭  
   - GPS 위치 정보 기록 (있는 경우)
   - 상태가 "배송중"으로 변경 확인

4. **배송 완료 처리**:
   - 배송지 도착 후 "배송 완료" 버튼 클릭
   - 고객 서명 입력 (있는 경우)
   - 완료 사진 업로드 (있는 경우)
   - 완료 시간 자동 기록
   - 상태가 "완료"로 변경 확인

### 5.3 배송 예외 처리 테스트
**테스트 목표**: 기사가 배송 중 발생할 수 있는 예외 상황을 처리할 수 있는지 확인

**테스트 단계**:
1. **배송 지연 처리**:
   - 진행 중인 배송에서 "배송 지연" 버튼 클릭
   - 지연 사유 선택 (교통체증, 고객 부재 등)
   - 예상 도착 시간 업데이트
   - 지연 사유가 기록되는지 확인

2. **배송 불가 처리**:
   - "배송 불가" 버튼 클릭
   - 불가 사유 입력 (주소 불명, 고객 연락 불가 등)
   - 상태가 "보류" 또는 "불가"로 변경되는지 확인

---

## 📊 6. 통합 테스트 시나리오

### 6.1 전체 배송 프로세스 테스트
**테스트 목표**: 배송 접수부터 완료까지 전체 프로세스가 정상 동작하는지 확인

**테스트 시나리오**:
1. **파트너**: 새 배송 접수
2. **매니저**: 기사 배정
3. **기사**: 상차 → 배송중 → 완료 처리
4. **관리자**: 전체 과정 모니터링

### 6.2 권한 분리 테스트
**테스트 목표**: 각 역할이 권한에 맞는 기능만 접근할 수 있는지 확인

**테스트 항목**:
- 파트너가 다른 파트너의 데이터에 접근할 수 없는지
- 기사가 자신에게 배정되지 않은 배송에 접근할 수 없는지
- 매니저가 관리자 전용 기능에 접근할 수 없는지

### 6.3 데이터 무결성 테스트  
**테스트 목표**: 데이터 생성, 수정, 삭제 시 무결성이 유지되는지 확인

**테스트 항목**:
- 배송 생성 시 52개 필드 모두 정상 저장
- 제품 정보가 delivery_details 테이블에 올바르게 저장
- 상태 변경 시 히스토리 기록 (있는 경우)

---

## 🔍 7. 성능 및 사용성 테스트

### 7.1 반응속도 테스트
**테스트 목표**: 각 기능의 반응속도가 사용자 경험에 적합한지 확인

**측정 항목**:
- 페이지 로딩 시간 (3초 이내)
- API 응답 시간 (1초 이내)
- 대용량 목록 렌더링 (100건 이상)

### 7.2 모바일 반응형 테스트
**테스트 목표**: 다양한 디바이스에서 정상 동작하는지 확인

**테스트 기기**:
- 데스크톱 (Chrome, Safari, Firefox)
- 태블릿 (iPad, Android 태블릿)
- 모바일 (iPhone, Android 폰)

### 7.3 브라우저 호환성 테스트
**테스트 브라우저**:
- Chrome (최신 버전)
- Safari (최신 버전)
- Firefox (최신 버전)
- Edge (최신 버전)

---

## 🐛 8. 에러 처리 테스트

### 8.1 네트워크 오류 테스트
**테스트 시나리오**:
- 인터넷 연결 끊김 상황
- 서버 응답 지연 (30초 이상)
- API 호출 실패 (500 에러)

### 8.2 입력값 검증 테스트
**테스트 항목**:
- 필수 필드 누락 시 에러 메시지
- 잘못된 형식 입력 (이메일, 전화번호)
- SQL Injection 시도
- XSS 스크립트 입력

### 8.3 권한 오류 테스트
**테스트 시나리오**:
- 로그인 만료 후 API 호출
- 권한 없는 기능 직접 URL 접근
- 다른 사용자 데이터 직접 접근 시도

---

## ✅ 9. 테스트 완료 체크리스트

### 9.1 기능 테스트 체크리스트
- [ ] 회원가입 및 로그인
- [ ] 역할별 대시보드 접근
- [ ] 관리자 - 사용자 관리
- [ ] 관리자 - 기사 관리  
- [ ] 관리자 - AdminShippingForm
- [ ] 매니저 - 기사 배정
- [ ] 매니저 - 배송 현황 관리
- [ ] 파트너 - 배송 접수
- [ ] 파트너 - 상품 관리
- [ ] 기사 - 배송 상태 업데이트
- [ ] 전체 배송 프로세스 플로우
- [ ] 권한 분리 정상 동작
- [ ] 데이터 무결성 유지

### 9.2 품질 테스트 체크리스트
- [ ] 성능 (로딩 3초 이내, API 1초 이내)
- [ ] 모바일 반응형 동작
- [ ] 주요 브라우저 호환성
- [ ] 에러 상황 적절한 처리
- [ ] 사용자 경험 직관적 동작
- [ ] 보안 (SQL Injection, XSS 방지)

### 9.3 배포 전 최종 체크리스트
- [ ] 모든 테스트 케이스 통과
- [ ] 프로덕션 환경 설정 확인
- [ ] 백업 및 복구 계획 수립
- [ ] 모니터링 시스템 구축
- [ ] 사용자 매뉴얼 작성
- [ ] 운영진 교육 완료

---

## 📝 10. 버그 리포팅 템플릿

### 버그 발견 시 다음 형식으로 리포트:

```
**버그 제목**: [역할] 기능명에서 발생하는 오류

**재현 단계**:
1. 로그인 (계정: xxx)
2. 메뉴 클릭
3. 특정 동작 수행
4. 오류 발생

**예상 동작**: 
정상적으로 처리되어야 함

**실제 동작**:
오류 메시지 또는 비정상 동작 설명

**환경 정보**:
- 브라우저: Chrome 120.x
- OS: macOS 14.x
- 화면 해상도: 1920x1080

**첨부 파일**:
- 스크린샷
- 콘솔 에러 로그
```

---

## 🎯 결론

이 테스트 시나리오는 EasyPicks 시스템의 모든 주요 기능을 포괄하며, 각 사용자 역할별로 체계적인 테스트를 수행할 수 있도록 구성되었습니다. 

**테스트 수행 순서 권장사항**:
1. 인증 및 기본 기능 테스트
2. 각 역할별 개별 기능 테스트  
3. 통합 시나리오 테스트
4. 성능 및 품질 테스트
5. 에러 상황 테스트

모든 테스트를 통과한 후 프로덕션 배포를 진행하시기 바랍니다.